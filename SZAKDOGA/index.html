<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food-WEB</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <link rel="stylesheet" href="./Styles/main.css" type="text/css">
    <link rel="icon" href="./Images/icon.png">


    <script>

        var TestSchool = ["OM220", "Jedlik", ""];
        var TestUser = ["771122", "user", ""];

        document.addEventListener('DOMContentLoaded', function(event) {
                document.querySelector('body').style.opacity = 1
            })
 
        function Loading() {
            if (document.body.clientWidth < 768) {
                document.getElementById("Header_photo").style.padding = "20px";
				document.getElementById("Header_photo").style.width = "80%";
            }
            sessionStorage.setItem("SavedUser","");
            localStorage.setItem("ToPageUser","");
            sessionStorage.setItem("CurrentPage","");
        }
        var next = false;

        function LogingInApper() {
            if (document.body.clientWidth < 768) {
                MobilLogingInApper();
            }else
            {
                PCLogingInApper();
            }
        }

        function MobilLogingInApper() {
            let id = null;
            const elem = document.getElementById("Header_photo");   
            let pos = 30;
            let percent = 0;
            let percent2 = 0;
            let opacity = 0;
            clearInterval(id);
            id = setInterval(frame, 10);
            function frame() {
                if (pos == 5) {
                clearInterval(id);
                id = setInterval(frame2, 30)
                function frame2() {
                    if (percent == 100) {
                        clearInterval(id);
                        id = setInterval(frame3, 30)
                        function frame3() {
                            if(percent2 == 100)
                            {
                                clearInterval(id);
                                id = setInterval(frame4, 20)
                                function frame4() {
                                    if (opacity > 1) {
                                        clearInterval(id);
                                    }
                                    opacity += 0.025;
                                    document.getElementById("LoginDiv").style = "opacity: 0;";
                                    document.getElementById("LoginDiv").style.opacity = opacity;
                                    document.getElementById("LoginDiv").style.marginTop = (-600 + opacity*20*17.5) + "px";
                                }
                            }else{
                                percent2 += 4;
                                var background = "radial-gradient(circle, #001e6c " + percent2 + "%, #ffffff00 "+ 100+"%)";
                                document.getElementById("LetterHead").style.backgroundImage = background;
                            }
                            
                        }
                    }else{
                    percent += 4; 
                    var background = "radial-gradient(circle, #ffffff " + percent + "%, #5089c6 "+ 100+"%)";
                    document.getElementById("body").style.backgroundImage = background;}
                }
                } else {
                pos--;
               
                elem.style.top = pos-3 + "%";
                elem.style.width = (pos+55) +"%";
                elem.style.height = (pos * 14) + "px";
                elem.style.padding = 5 +"px";
               
                
                }
            }
        }

        function PCLogingInApper() {
            let id = null;
            const elem = document.getElementById("Header_photo");   
            let pos = 30;
            let percent = 0;
            let percent2 = 0;
            let opacity = 0;
            clearInterval(id);
            id = setInterval(frame, 10);
            function frame() {
                if (pos == 5) {
                clearInterval(id);
                id = setInterval(frame2, 30)
                function frame2() {
                    if (percent == 100) {
                        clearInterval(id);
                        id = setInterval(frame3, 30)
                        function frame3() {
                            if(percent2 == 100)
                            {
                                clearInterval(id);
                                id = setInterval(frame4, 20)
                                function frame4() {
                                    if (opacity > 1) {
                                        clearInterval(id);
                                    }
                                    opacity += 0.025;
                                    document.getElementById("LoginDiv").style = "opacity: 0;";
                                    document.getElementById("LoginDiv").style.opacity = opacity;
                                    document.getElementById("LoginDiv").style.marginTop = (-600 + opacity*20*17.5) + "px";
                                }
                            }else{
                                percent2 += 4;
                                var background = "radial-gradient(circle, #001e6c " + percent2 + "%, #ffffff00 "+ 100+"%)";
                                document.getElementById("LetterHead").style.backgroundImage = background;
                            }
                            
                        }
                    }else{
                    percent += 4; 
                    var background = "radial-gradient(circle, #ffffff " + percent + "%, #5089c6 "+ 100+"%)";
                    document.getElementById("body").style.backgroundImage = background;}
                }
                } else {
                pos--;
               
                elem.style.top = pos-3 + "%";
                elem.style.width = (pos+10) +"%";
                elem.style.height = (pos * 14) + "px";
                elem.style.padding = 5 +"px";
               
                
                }
            }
        }
        
        function LoginAndPageChanger()
        {
            if (document.getElementById("User").value == TestSchool[0] && document.getElementById("Pass").value == TestSchool[1]) {
                
                window.location.href = "admin.html";
            }
            else if(document.getElementById("User").value == TestUser[0] && document.getElementById("Pass").value == TestUser[1])
            {
                localStorage.setItem("ToPageUser","admin;admin;Test Elek Béla;12.A;true;2021-09-17;Jedlik;");
                sessionStorage.setItem("CurrentPage","Menu");
                window.location.href = "page.html";
            }else{
                document.getElementById("Pass").value = document.getElementById("Pass").defaultValue;
                alert("Nincs ilyen felhasználó és jelszó párosítás!");
                document.getElementById("Pass").autofocus = true;
            }
        }

        function PreventFromReload(event) {
            event.preventDefault();
            
        }
    </script>
</head>
<body onload = "Loading()" id = "body">
    <div id = "Header">
        <div id ="Header_photo">
            <span onclick="LogingInApper()"><img alt="ICON" id = "Logo" src = "./Images/FoodWeb_logo.png"></span>
        </div>
    </div>

    <div id = "LetterHead">
        
    </div>

    <div class="wrapper" id = "LoginDiv" style="opacity: 0; display: none;">
        <div class="login">
          <img src="./Images/icon.png" alt="login_icon" style="height: 50px; float: left;">
          <p class="title">Bejelentkezés</p>
          <input type="text" placeholder="Felhasználó" autofocus required id="User" />
          <input type="password" placeholder="Jelszó" required id="Pass" />
          <button onclick="LoginAndPageChanger()">Bejelentkezés</button>
        </div>
      </div>
</body>
</html>